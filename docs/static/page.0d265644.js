__jsonpResolve(function(){var s={};return s.exports={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("article",{staticClass:"markdown-body"},[a("h1",[s._v("Sprite")]),s._v(" "),a("div",{staticClass:"vue-demo-block"},[a("VueApp0"),s._v(" "),s._m(0)],1),s._v(" "),a("div",{staticClass:"vue-demo-block"},[a("VueApp1"),s._v(" "),s._m(1)],1),s._v(" "),a("div",{staticClass:"vue-demo-block"},[a("VueApp2"),s._v(" "),s._m(2)],1)])},components:{VueApp0:function(){"use strict";var s,t,a,n,r,e={data:function(){return{sceneStyle:{width:"100%","padding-bottom":"39%"},square:{anchor:[.5,.5],pos:[770,300],size:[300,300],rotate:45,bgcolor:"#3c7"},anchorCross:{d:"M0,10H10,20M10,0V10,20",anchor:[.5,.5],pos:[770,300],strokeColor:"red",rotate:45,lineWidth:4},label:{text:"鼠标位置：",pos:[20,50],font:"32px Arial",lineHeight:56}}},methods:{onmousemove:function(s){var t=s.targetSprites,a=s.x;void 0===a&&(a=0);var n=s.y;void 0===n&&(n=0),this.label.text="鼠标位置：\n相对于 layer: "+Math.round(a)+", "+Math.round(n);var r=this.$spritesRefs.square;if(t.length&&t.includes(r)){var e=r.pointToOffset(a,n).map(Math.round),l=e[0],v=e[1];this.label.text+="\n相对于元素："+l+", "+v}},onmouseenter:function(s){this.$set(this.square,"border",[4,"blue"])},onmouseleave:function(s){this.$set(this.square,"border",[0,""])}}},l=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"vue-demo"},[a("s-scene",{style:s.sceneStyle},[a("s-layer",{on:{mousemove:s.onmousemove}},[a("s-sprite",{ref:"square",attrs:{attrs:s.square},on:{mouseenter:s.onmouseenter,mouseleave:s.onmouseleave}}),a("s-path",{ref:"anchorCross",attrs:{attrs:s.anchorCross}}),a("s-label",{ref:"label",attrs:{attrs:s.label}})],1)],1)],1)};return l._withStripped=!0,a=void 0,n=!(s={render:l,staticRenderFns:[]}),(r=("function"==typeof(t=e)?t.options:t)||{}).__file="/Users/yywl/Documents/Code/sprite-vue/spritejs-vue/virtual.vue",r.render||(r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._compiled=!0,n&&(r.functional=!0)),r._scopeId=a,r}(),VueApp1:function(){"use strict";var s,t,a,n,r,e={data:function(){return{sceneStyle:{width:"100%","padding-bottom":"39%"},square:{anchor:[.5,.5],pos:[770,300],size:[300,300],rotate:45,bgcolor:"#3c7"},anchorCross:{d:"M0,10H10,20M10,0V10,20",anchor:[.5,.5],pos:[770,300],strokeColor:"red",rotate:45,lineWidth:4},label:{text:"鼠标位置：",pos:[20,50],font:"32px Arial",lineHeight:56}}},methods:{onlayermousemove:function(s){var t=s.x,a=s.y;console.log("2222"),this.label.text="鼠标位置：\n相对于 layer: "+Math.round(t)+", "+Math.round(a)},onmousemove:function(s){var t=s.x,a=s.y,n=s.offsetX,r=s.offsetY;this.label.text="鼠标位置：\n相对于 layer: "+Math.round(t)+", "+Math.round(a)+"\n相对于元素："+Math.round(n)+", "+Math.round(r),s.stopDispatch()},onmouseenter:function(s){this.$set(this.square,"border",[4,"blue"])},onmouseleave:function(s){this.$set(this.square,"border",[0,""])}}},l=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"vue-demo"},[a("s-scene",{style:s.sceneStyle},[a("s-layer",{on:{mousemove:s.onlayermousemove}},[a("s-sprite",{ref:"square",attrs:{attrs:s.square},on:{mousemove:s.onmousemove,mouseenter:s.onmouseenter,mouseleave:s.onmouseleave}}),a("s-path",{ref:"anchorCross",attrs:{attrs:s.anchorCross}}),a("s-label",{ref:"label",attrs:{attrs:s.label}})],1)],1)],1)};return l._withStripped=!0,a=void 0,n=!(s={render:l,staticRenderFns:[]}),(r=("function"==typeof(t=e)?t.options:t)||{}).__file="/Users/yywl/Documents/Code/sprite-vue/spritejs-vue/virtual.vue",r.render||(r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._compiled=!0,n&&(r.functional=!0)),r._scopeId=a,r}(),VueApp2:function(){"use strict";var a=1;function t(n){var r,e,l;if(!n.isDraggable)return n.isDraggable=!0,n.on("mouseenter",function(s){n.attr("border",{width:6,color:"blue"})}),n.on("mouseleave",function(s){n.attr("border",{width:0})}),n.on("mousedown",function(s){r=s.x,e=s.y,l=n.attr("pos"),n.attr("zIndex",a++),n.off("mousemove",t),n.setMouseCapture(),n.on("mousemove",t),s.stopDispatch()}).on("mouseup",function(s){n.off("mousemove",t),n.releaseMouseCapture()}),n;function t(s){var t=s.x-r,a=s.y-e;n.attr("pos",[l[0]+t,l[1]+a]),s.stopDispatch()}}var s,n,r,e,l,v={data:function(){return{sceneStyle:{width:"100%","padding-bottom":"39%",cursor:"default"},s1:{anchor:[.5,.5],pos:[770,300],size:[200,200],rotate:45,bgcolor:"#3c7"},s2:{anchor:[.5,.5],pos:[270,300],size:[200,200],bgcolor:"#c37"},s3:{anchor:[.5,.5],pos:[1270,300],size:[200,200],bgcolor:"#73c"}}},methods:{onlayermousemove:function(s){s.targetSprites.some(function(s){return s.isDraggable})?this.sceneStyle.cursor="move":this.sceneStyle.cursor="default"}},mounted:function(){var s=this.$spritesRefs;[s.s1,s.s2,s.s3].map(t)}},_=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"vue-demo"},[a("s-scene",{style:s.sceneStyle},[a("s-layer",{on:{mousemove:s.onlayermousemove}},[a("s-sprite",{ref:"s1",attrs:{attrs:s.s1}}),a("s-sprite",{ref:"s2",attrs:{attrs:s.s2}}),a("s-sprite",{ref:"s3",attrs:{attrs:s.s3}})],1)],1)],1)};return _._withStripped=!0,r=void 0,e=!(s={render:_,staticRenderFns:[]}),(l=("function"==typeof(n=v)?n.options:n)||{}).__file="/Users/yywl/Documents/Code/sprite-vue/spritejs-vue/virtual.vue",l.render||(l.render=s.render,l.staticRenderFns=s.staticRenderFns,l._compiled=!0,e&&(l.functional=!0)),l._scopeId=r,l}()},staticRenderFns:[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("pre",{pre:!0,attrs:{class:"vue-demo-source-code"}},[a("code",{attrs:{class:"hljs language-html"}},[a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"pug"')]),s._v(">")]),s._v('\ns-scene(:style="sceneStyle")\n  s-layer(@mousemove="onmousemove")\n    s-sprite(\n      ref="square"\n      :attrs="square"\n      @mouseenter="onmouseenter"\n      @mouseleave="onmouseleave"\n    )\n    s-path(:attrs="anchorCross" ref="anchorCross")\n    s-label(:attrs="label" ref="label")\n'),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{attrs:{class:"javascript"}},[s._v("\n"),a("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  data () {\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("sceneStyle")]),s._v(": {\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("width")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'100%'")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-string"}},[s._v("'padding-bottom'")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'39%'")]),s._v("\n      },\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("square")]),s._v(": {\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("anchor")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("pos")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("770")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("300")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("size")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("300")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("300")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("rotate")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("45")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("bgcolor")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'#3c7'")]),s._v("\n      },\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("anchorCross")]),s._v(": {\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("d")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'M0,10H10,20M10,0V10,20'")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("anchor")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("pos")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("770")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("300")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("strokeColor")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'red'")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("rotate")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("45")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("lineWidth")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("4")]),s._v("\n      },\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v(": {\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'鼠标位置：'")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("pos")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("20")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("50")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("font")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'32px Arial'")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("lineHeight")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("56")]),s._v("\n      }\n    }\n  },\n  "),a("span",{attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n    onmousemove (event) {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { targetSprites, x = "),a("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", y = "),a("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" } = event\n\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".label.text = "),a("span",{attrs:{class:"hljs-string"}},[s._v("`鼠标位置：\\n相对于 layer: "),a("span",{attrs:{class:"hljs-subst"}},[s._v("${"),a("span",{attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".round(x)}")]),s._v(", "),a("span",{attrs:{class:"hljs-subst"}},[s._v("${"),a("span",{attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".round(y)}")]),s._v("`")]),s._v("\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { square } = "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$spritesRefs\n\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (targetSprites.length && targetSprites.includes(square)) {\n        "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" [offsetX, offsetY] = square.pointToOffset(x, y).map("),a("span",{attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".round)\n        "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".label.text += "),a("span",{attrs:{class:"hljs-string"}},[s._v("`\\n相对于元素："),a("span",{attrs:{class:"hljs-subst"}},[s._v("${offsetX}")]),s._v(", "),a("span",{attrs:{class:"hljs-subst"}},[s._v("${offsetY}")]),s._v("`")]),s._v("\n      }\n    },\n    onmouseenter (e) {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$set("),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".square, "),a("span",{attrs:{class:"hljs-string"}},[s._v("'border'")]),s._v(", ["),a("span",{attrs:{class:"hljs-number"}},[s._v("4")]),s._v(", "),a("span",{attrs:{class:"hljs-string"}},[s._v("'blue'")]),s._v("])\n    },\n    onmouseleave (e) {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$set("),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".square, "),a("span",{attrs:{class:"hljs-string"}},[s._v("'border'")]),s._v(", ["),a("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{attrs:{class:"hljs-string"}},[s._v("''")]),s._v("])\n    }\n  }\n}\n\n")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("pre",{pre:!0,attrs:{class:"vue-demo-source-code"}},[a("code",{attrs:{class:"hljs language-html"}},[a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"pug"')]),s._v(">")]),s._v('\ns-scene(:style="sceneStyle")\n  s-layer(@mousemove="onlayermousemove")\n    s-sprite(\n      ref="square"\n      :attrs="square"\n      @mousemove="onmousemove"\n      @mouseenter="onmouseenter"\n      @mouseleave="onmouseleave"\n    )\n    s-path(:attrs="anchorCross" ref="anchorCross")\n    s-label(:attrs="label" ref="label")\n'),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{attrs:{class:"javascript"}},[s._v("\n"),a("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  data () {\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("sceneStyle")]),s._v(": {\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("width")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'100%'")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-string"}},[s._v("'padding-bottom'")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'39%'")]),s._v("\n      },\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("square")]),s._v(": {\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("anchor")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("pos")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("770")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("300")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("size")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("300")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("300")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("rotate")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("45")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("bgcolor")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'#3c7'")]),s._v("\n      },\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("anchorCross")]),s._v(": {\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("d")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'M0,10H10,20M10,0V10,20'")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("anchor")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("pos")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("770")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("300")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("strokeColor")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'red'")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("rotate")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("45")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("lineWidth")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("4")]),s._v("\n      },\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v(": {\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'鼠标位置：'")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("pos")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("20")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("50")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("font")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'32px Arial'")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("lineHeight")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("56")]),s._v("\n      }\n    }\n  },\n  "),a("span",{attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n    onlayermousemove ({ x, y }) {\n      "),a("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{attrs:{class:"hljs-string"}},[s._v("'2222'")]),s._v(")\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".label.text = "),a("span",{attrs:{class:"hljs-string"}},[s._v("`鼠标位置：\\n相对于 layer: "),a("span",{attrs:{class:"hljs-subst"}},[s._v("${"),a("span",{attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".round(x)}")]),s._v(", "),a("span",{attrs:{class:"hljs-subst"}},[s._v("${"),a("span",{attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".round(y)}")]),s._v("`")]),s._v("\n    },\n    onmousemove (event) {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {x, y, offsetX, offsetY} = event\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".label.text = "),a("span",{attrs:{class:"hljs-string"}},[s._v("`鼠标位置：\\n相对于 layer: "),a("span",{attrs:{class:"hljs-subst"}},[s._v("${"),a("span",{attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".round(x)}")]),s._v(", "),a("span",{attrs:{class:"hljs-subst"}},[s._v("${"),a("span",{attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".round(y)}")]),s._v("\\n相对于元素："),a("span",{attrs:{class:"hljs-subst"}},[s._v("${"),a("span",{attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".round(offsetX)}")]),s._v(", "),a("span",{attrs:{class:"hljs-subst"}},[s._v("${"),a("span",{attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".round(offsetY)}")]),s._v("`")]),s._v("\n      event.stopDispatch()\n    },\n    onmouseenter (e) {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$set("),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".square, "),a("span",{attrs:{class:"hljs-string"}},[s._v("'border'")]),s._v(", ["),a("span",{attrs:{class:"hljs-number"}},[s._v("4")]),s._v(", "),a("span",{attrs:{class:"hljs-string"}},[s._v("'blue'")]),s._v("])\n    },\n    onmouseleave (e) {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$set("),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".square, "),a("span",{attrs:{class:"hljs-string"}},[s._v("'border'")]),s._v(", ["),a("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{attrs:{class:"hljs-string"}},[s._v("''")]),s._v("])\n    }\n  }\n}\n\n")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("pre",{pre:!0,attrs:{class:"vue-demo-source-code"}},[a("code",{attrs:{class:"hljs language-html"}},[a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"pug"')]),s._v(">")]),s._v('\ns-scene(:style="sceneStyle")\n  s-layer(@mousemove="onlayermousemove")\n    s-sprite(:attrs="s1" ref="s1")\n    s-sprite(:attrs="s2" ref="s2")\n    s-sprite(:attrs="s3" ref="s3")\n'),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{attrs:{class:"javascript"}},[s._v("\n"),a("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  data () {\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("sceneStyle")]),s._v(": {\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("width")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'100%'")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-string"}},[s._v("'padding-bottom'")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'39%'")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("cursor")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'default'")]),s._v("\n      },\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("s1")]),s._v(": {\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("anchor")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("pos")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("770")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("300")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("size")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("200")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("200")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("rotate")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("45")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("bgcolor")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'#3c7'")]),s._v("\n      },\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("s2")]),s._v(": {\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("anchor")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("pos")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("270")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("300")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("size")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("200")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("200")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("bgcolor")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'#c37'")]),s._v("\n      },\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("s3")]),s._v(": {\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("anchor")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("pos")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("1270")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("300")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("size")]),s._v(": ["),a("span",{attrs:{class:"hljs-number"}},[s._v("200")]),s._v(", "),a("span",{attrs:{class:"hljs-number"}},[s._v("200")]),s._v("],\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("bgcolor")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'#73c'")]),s._v("\n      }\n    }\n  },\n  "),a("span",{attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n    onlayermousemove (evt) {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (evt.targetSprites.some("),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-params"}},[s._v("target")]),s._v(" =>")]),s._v(" target.isDraggable)) {\n        "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".sceneStyle.cursor = "),a("span",{attrs:{class:"hljs-string"}},[s._v("'move'")]),s._v("\n      } "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n        "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".sceneStyle.cursor = "),a("span",{attrs:{class:"hljs-string"}},[s._v("'default'")]),s._v("\n      }\n    }\n  },\n  mounted () {\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { s1, s2, s3 } = "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$spritesRefs;\n    [s1, s2, s3].map(draggable)\n  }\n}\n\n"),a("span",{attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" zIndex = "),a("span",{attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n"),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{attrs:{class:"hljs-title"}},[s._v("draggable")]),s._v(" ("),a("span",{attrs:{class:"hljs-params"}},[s._v("sprite")]),s._v(") ")]),s._v("{\n  "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (sprite.isDraggable) "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v("\n\n  sprite.isDraggable = "),a("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n\n  "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" x0, y0, startPos\n\n  "),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{attrs:{class:"hljs-title"}},[s._v("onMouseMove")]),s._v(" ("),a("span",{attrs:{class:"hljs-params"}},[s._v("evt")]),s._v(") ")]),s._v("{\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" dx = evt.x - x0,\n      dy = evt.y - y0\n\n    sprite.attr("),a("span",{attrs:{class:"hljs-string"}},[s._v("'pos'")]),s._v(", [startPos["),a("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v("] + dx, startPos["),a("span",{attrs:{class:"hljs-number"}},[s._v("1")]),s._v("] + dy])\n    evt.stopDispatch()\n  }\n\n  sprite.on("),a("span",{attrs:{class:"hljs-string"}},[s._v("'mouseenter'")]),s._v(", (evt) => {\n    sprite.attr("),a("span",{attrs:{class:"hljs-string"}},[s._v("'border'")]),s._v(", {"),a("span",{attrs:{class:"hljs-attr"}},[s._v("width")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("6")]),s._v(", "),a("span",{attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'blue'")]),s._v("})\n  })\n  sprite.on("),a("span",{attrs:{class:"hljs-string"}},[s._v("'mouseleave'")]),s._v(", (evt) => {\n    sprite.attr("),a("span",{attrs:{class:"hljs-string"}},[s._v("'border'")]),s._v(", {"),a("span",{attrs:{class:"hljs-attr"}},[s._v("width")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v("})\n  })\n\n  sprite.on("),a("span",{attrs:{class:"hljs-string"}},[s._v("'mousedown'")]),s._v(", (evt) => {\n    x0 = evt.x\n    y0 = evt.y\n    startPos = sprite.attr("),a("span",{attrs:{class:"hljs-string"}},[s._v("'pos'")]),s._v(")\n    sprite.attr("),a("span",{attrs:{class:"hljs-string"}},[s._v("'zIndex'")]),s._v(", zIndex++)\n    sprite.off("),a("span",{attrs:{class:"hljs-string"}},[s._v("'mousemove'")]),s._v(", onMouseMove)\n    sprite.setMouseCapture()\n    sprite.on("),a("span",{attrs:{class:"hljs-string"}},[s._v("'mousemove'")]),s._v(", onMouseMove)\n    evt.stopDispatch()\n  }).on("),a("span",{attrs:{class:"hljs-string"}},[s._v("'mouseup'")]),s._v(", (evt) => {\n    sprite.off("),a("span",{attrs:{class:"hljs-string"}},[s._v("'mousemove'")]),s._v(", onMouseMove)\n    sprite.releaseMouseCapture()\n  })\n\n  "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" sprite\n}\n\n")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])])}]},s.exports.metaInfo=function(){return{title:"Events"}},s.exports.computed={$vars:function(){return{}},$page:function(){var t=this.$route.path;return this.$pages.filter(function(s){return s.path===t})[0]||{}}},s.exports}());